<!-- <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand fw-bold" [routerLink]="['/']">TicketSystem</a>
        <button class="navbar-toggler d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu"
            aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation"> <span
                class="navbar-toggler-icon"></span> </button>
        <div class="d-flex align-items-center ms-auto">
            <div class="d-flex align-items-center gap-3">
                <ng-container *ngIf="!username">
                    <a class="nav-link fw-semibold" [routerLink]="['/']">Home</a>
                </ng-container>
                <ng-container *ngIf="hasUserRole()">
                    <a class="btn btn-outline-primary fw-semibold" [routerLink]="['/tickets/create']">+ New Ticket</a>
                    <div class="d-flex align-items-center gap-2">
                        <div class="user-icon bg-primary text-white rounded-circle d-flex justify-content-center align-items-center"
                            style="width: 32px; height: 32px;">
                            {{ firstLetter }}
                        </div>
                        
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</nav> -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <!-- Brand -->
    <a class="navbar-brand fw-bold" [routerLink]="['/']">TicketSystem</a>

    <!-- Right side -->
    <div class="d-flex align-items-center ms-auto">
      <div class="d-flex align-items-center gap-3">
        <!-- Home link if not logged in -->
        <ng-container *ngIf="!username">
          <a class="nav-link fw-semibold" [routerLink]="['/']">Home</a>
        </ng-container>

        <!-- User role block -->
        <ng-container *ngIf="hasUserRole() ">
          <!-- New Ticket button -->
          <a *ngIf=" !isOnCreateTicket()" class="btn btn-outline-primary fw-semibold" [routerLink]="['/tickets/create']">+ New Ticket</a>

          <!-- User icon + toggle button -->
          <div class="d-flex align-items-center gap-2">
            <!-- User icon -->
            <div class="user-icon bg-primary text-white rounded-circle d-flex justify-content-center align-items-center"
                 style="width: 32px; height: 32px;">
              {{ firstLetter }}
            </div>

            <!-- Toggle button (mobile only) -->
            <button class="navbar-toggler d-md-none custom-toggler" type="button"
                    data-bs-toggle="collapse" data-bs-target="#sidebarMenu"
                    aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</nav>
